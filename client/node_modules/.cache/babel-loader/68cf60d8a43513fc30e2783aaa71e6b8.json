{"ast":null,"code":"var _jsxFileName = \"E:\\\\graphQl\\\\client\\\\src\\\\components\\\\books-section\\\\book-list.js\";\nimport React, { useState } from \"react\";\nimport \"./book-list.css\";\nimport { Button } from \"reactstrap\";\nimport AddReviewModal from \"../../Utlies/add-review-modals\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport RightPanel from \"../../Utlies/right-panel/right-panel.js\";\nimport { GET_REVIEW } from \"../../gql-helper/queries\";\nimport Loading from \"../../Utlies/loader/loader\";\nexport default function () {\n  const [showModal, setShowModal] = useState(false);\n  const {\n    error,\n    loading,\n    data\n  } = useQuery(GET_REVIEW);\n  console.log(\"error,loading,data \", data);\n\n  function showAddReviewModal(value) {\n    setShowModal(value);\n  }\n\n  function updateReview() {}\n\n  async function getImgSrc(imgId) {\n    let imgSrc = '';\n    await fetch(\"https://api.jsonbin.io/b/\" + imgId, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8',\n        'secret-key': '$2b$10$rhIFVqhUIEQwsbi0CwHLMe6jxkKyBD3otM2McKelyCAyWXJyFWQ7G'\n      }\n    }).then(async response => {\n      let result = await response.json();\n      if (result.imgSrc) imgSrc = result.imgSrc;\n      console.log(\"Downloaded!!\", result);\n    });\n    console.log(\"imgSrc!! return\", imgSrc);\n    return imgSrc;\n  }\n\n  function showRightPanel() {\n    document.getElementById(\"mySidepanel\").style.width = \"40%\"; //document.getElementById(\"container\").style.opacity = \"0.5\";\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row header-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-2 col-sm-2 col-md-2 col-lg-2 header-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"Books\"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-2 col-sm-2 col-md-2 col-lg-2 header-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-8 col-sm-8 col-md-8 col-lg-8\",\n    style: {\n      textAlign: \"end\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: e => showAddReviewModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), \" Add review\"))), loading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 18\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, data && data.reviews && data.reviews.length > 0 ? data.reviews.map((book, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12 col-sm-12 col-md-4 col-lg-4 \",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-4 col-sm-4 col-md-4 col-lg-4\",\n      style: {\n        padding: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: book.imgId ? getImgSrc(book.imgId) : \"https://images.pexels.com/photos/965340/pexels-photo-965340.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n      width: \"100%\",\n      height: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-9 col-sm-9 col-md-9 col-lg-9\",\n      style: {\n        paddingLeft: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-description\",\n      onClick: e => showRightPanel(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        borderBottom: \"1px solid #eee\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 27\n      }\n    }, book.title)), book.author && book.author.name ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row author-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, \"By: \", \" \" + book.author.name)) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row genre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 27\n      }\n    }, \"Genre: \", \" \" + book.genre))))));\n  }) : null), showModal ? /*#__PURE__*/React.createElement(AddReviewModal, {\n    closeModal: showAddReviewModal,\n    updateReview: updateReview,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }) : null, /*#__PURE__*/React.createElement(RightPanel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["E:/graphQl/client/src/components/books-section/book-list.js"],"names":["React","useState","Button","AddReviewModal","gql","useQuery","RightPanel","GET_REVIEW","Loading","showModal","setShowModal","error","loading","data","console","log","showAddReviewModal","value","updateReview","getImgSrc","imgId","imgSrc","fetch","method","headers","then","response","result","json","showRightPanel","document","getElementById","style","width","textAlign","e","reviews","length","map","book","index","padding","paddingLeft","borderBottom","title","author","name","genre"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./book-list.css\";\r\nimport { Button } from \"reactstrap\";\r\nimport AddReviewModal from \"../../Utlies/add-review-modals\";\r\nimport { gql, useQuery } from \"@apollo/client\";\r\nimport RightPanel from \"../../Utlies/right-panel/right-panel.js\";\r\nimport { GET_REVIEW } from \"../../gql-helper/queries\";\r\nimport Loading from \"../../Utlies/loader/loader\";\r\n\r\nexport default function () {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const { error, loading, data } = useQuery(GET_REVIEW);\r\n\r\n  console.log(\"error,loading,data \",data);\r\n\r\n  function showAddReviewModal(value) {\r\n    setShowModal(value);\r\n  }\r\n\r\n  function updateReview() {}\r\n\r\n  async function getImgSrc(imgId){\r\n\r\n    let imgSrc = '';\r\n\r\n\r\n    await fetch(\"https://api.jsonbin.io/b/\"+imgId,{\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8',\r\n        'secret-key':'$2b$10$rhIFVqhUIEQwsbi0CwHLMe6jxkKyBD3otM2McKelyCAyWXJyFWQ7G'\r\n      }\r\n    }).then(async(response)=>{\r\n      let result = await response.json();\r\n\r\n      if(result.imgSrc) imgSrc = result.imgSrc;\r\n\r\n      console.log(\"Downloaded!!\",result);\r\n    });\r\n\r\n    console.log(\"imgSrc!! return\",imgSrc);\r\n\r\n    return imgSrc;\r\n  }\r\n\r\n  function showRightPanel() {\r\n    document.getElementById(\"mySidepanel\").style.width = \"40%\";\r\n    //document.getElementById(\"container\").style.opacity = \"0.5\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row header-row\">\r\n        <div className=\"col-xs-2 col-sm-2 col-md-2 col-lg-2 header-text\">\r\n          <h5>Books</h5>{\" \"}\r\n        </div>\r\n        <div className=\"col-xs-2 col-sm-2 col-md-2 col-lg-2 header-text\"> </div>\r\n        <div\r\n          className=\"col-xs-8 col-sm-8 col-md-8 col-lg-8\"\r\n          style={{ textAlign: \"end\" }}\r\n        >\r\n          <div className=\"btn-container\"></div>\r\n          <Button onClick={(e) => showAddReviewModal(true)}>\r\n            <i className=\"fas fa-plus\"></i> Add review\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      {loading ? <Loading /> : null}\r\n      <div className=\"row\">\r\n        {data && data.reviews && data.reviews.length > 0\r\n          ? data.reviews.map((book, index) => {\r\n              return (\r\n                <div\r\n                  className=\"col-xs-12 col-sm-12 col-md-4 col-lg-4 \"\r\n                  key={index}\r\n                >\r\n                  <div className=\"book-container\">\r\n                    <div className=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\" style={{padding:\"0px\"}}>\r\n                      <img src={book.imgId ? getImgSrc(book.imgId) : \"https://images.pexels.com/photos/965340/pexels-photo-965340.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"} width=\"100%\" height=\"100%\"/>\r\n                    </div>\r\n                    <div className=\"col-xs-9 col-sm-9 col-md-9 col-lg-9\" style={{paddingLeft:\"0px\"}}>\r\n                      <div\r\n                        className=\"book-description\"\r\n                        onClick={(e) => showRightPanel()}\r\n                      >\r\n                        <div className=\"row\" style={{borderBottom:\"1px solid #eee\"}}>\r\n                          <h5>{book.title}</h5>\r\n                        </div>\r\n\r\n                        {book.author && book.author.name ? (\r\n                          <div className=\"row author-name\">\r\n                            <p>By: {\" \" + book.author.name}</p>\r\n                          </div>\r\n                        ) : null}\r\n                        <div className=\"row genre\">\r\n                          <p>Genre: {\" \" + book.genre}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n          : null}\r\n      </div>\r\n\r\n      {showModal ? (\r\n        <AddReviewModal\r\n          closeModal={showAddReviewModal}\r\n          updateReview={updateReview}\r\n        />\r\n      ) : null}\r\n      <RightPanel />\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}